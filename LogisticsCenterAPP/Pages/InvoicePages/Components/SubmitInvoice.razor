@page "/SubmitInvoice"
@inject HttpClient Http
@using System.IO
@using LogisticsCenterAPP.Services
@using LogisticsCenterMODELS.Models
@using Microsoft.AspNetCore.Authorization
@inject NavigationManager NavigationManager
@inject IToastService toastService
@inject Microsoft.Extensions.Configuration.IConfiguration config
@inject IWebServices WebServices
@inject IBlazorStrap blazorstrapp
@inject AuthenticationStateProvider _AuthSataProvider
@attribute [Authorize]


<div>
    <AuthorizeView>
        <Authorized>
            <InvoiceForm TextBtn="Save" InvoiceModel="@invoiceDTO" OnValidSubmit="@Submit" OnInputFileChange="OnInputFileChange" DisableParameter="IsDisabled" activeSppiner="activeSpplier"/>
        </Authorized>
        <NotAuthorized>
        <h1>No esta autorizado</h1>
        </NotAuthorized>
    </AuthorizeView>
</div>


@*<h3>@Message</h3>
<h3>@IsDisabled.ToString()</h3>*@

@code {

    string Message = "No file(s) selected";
    IReadOnlyList<IBrowserFile> selectedFiles;

    [CascadingParameter]
    private Task<AuthenticationState> authenticationState { get; set; }
  
}
